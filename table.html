<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>Midnight Black Poker – Table</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>

    :root {
      --bg-main: #050509;
      --bg-secondary: #0c0c14;
      --bg-elevated: #10101b;
      --accent: #6f7aff;
      --accent-strong: rgba(111,122,255,0.85);
      --danger: #ff416f;
      --success: #35d49b;
      --text-main: #f5f5f5;
      --text-muted: #9a9aad;
      --border-soft: rgba(255,255,255,0.08);
      --shadow-soft: 0 0 50px rgba(0,0,0,0.9);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: system-ui,-apple-system,"SF Pro Text","Segoe UI",sans-serif;
      background: radial-gradient(circle at top,#151528 0,#050509 55%,#000 100%);
      color: var(--text-main);
    }

    .page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }


    /* ---------------- HEADER ---------------- */

    .topbar {
      padding: 10px 16px 12px;
      background: linear-gradient(to bottom,
          rgba(5,5,10,0.95),
          rgba(5,5,10,0.8),
          transparent
      );
      border-bottom: 1px solid rgba(255,255,255,0.05);
      backdrop-filter: blur(14px);
      position: sticky;
      top: 0;
      z-index: 10;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    /* Верхняя строка */
    .topbar-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    /* Левый блок */
    .topbar-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-mark {
      width: 26px;
      height: 26px;
      border-radius: 50%;
      background: conic-gradient(from 210deg,#000,#151528,#6f7aff,#000);
      box-shadow: 0 0 12px rgba(111,122,255,0.7);
      position: relative;
    }
    .logo-mark::after {
      content:"";
      position:absolute;
      inset:26%;
      border-radius:inherit;
      border:1px solid rgba(255,255,255,0.4);
      background: radial-gradient(circle,rgba(255,255,255,0.2),transparent);
    }

    .topbar-title-block {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }
    .topbar-main {
      font-size: 13px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      white-space: nowrap;
    }
    .topbar-sub {
      font-size: 11px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--text-muted);
      white-space: nowrap;
    }

    /* Правый верхний угол: Стол + игроки */
    .topbar-table-meta {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 4px;
    }

    .pill {
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(10,10,20,0.85);
      font-size: 11px;
      white-space: nowrap;
    }

    /* Нижняя строка — 2 кнопки */
    .topbar-actions {
      display: flex;
      gap: 8px;
    }

    .btn {
      border-radius: 999px;
      padding: 6px 14px;
      font-size: 12px;
      border: 1px solid transparent;
      cursor:pointer;
      background: transparent;
      color: var(--text-main);
      transition: 0.15s;
      white-space: nowrap;
    }

    .btn-leave {
      border-color: rgba(255,65,111,0.55);
      background: radial-gradient(circle at 0 0,rgba(255,65,111,0.2),transparent);
      color:#ffe9f1;
    }
    .btn-leave:hover {
      box-shadow:0 0 14px rgba(255,65,111,0.6);
    }

    .btn-ghost {
      border-color: rgba(255,255,255,0.18);
      color: var(--text-muted);
    }
    .btn-ghost:hover {
      border-color: rgba(255,255,255,0.35);
      color: var(--text-main);
    }


    /* ---------------- MAIN TABLE ---------------- */

    .main {
      flex:1;
      display:flex;
      flex-direction:column;
      padding:10px;
      gap:10px;
    }

    .table-wrap {
      border-radius: 24px;
      background: radial-gradient(circle at top,#18182b,#050509 65%);
      border: 1px solid rgba(255,255,255,0.07);
      box-shadow: var(--shadow-soft);
      padding: 12px;
      position: relative;
    }

    .table-top-info {
      display:flex;
      justify-content:space-between;
      font-size:12px;
      color:var(--text-muted);
      margin-bottom:4px;
    }

    .table-top-left {
      display:flex;
      align-items:center;
      gap:10px;
    }
    .dot-live {
      width:8px;
      height:8px;
      border-radius:50%;
      background:var(--success);
      box-shadow:0 0 10px rgba(53,212,155,0.9);
    }

    .table-top-right {
      display:flex;
      flex-direction:column;
      gap:2px;
      align-items:flex-end;
    }

    .mini-pill {
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.1);
      padding:1px 7px;
      font-size:11px;
      color:var(--text-muted);
      background:rgba(5,5,15,0.9);
    }

    .poker-table {
      width:100%;
      max-width:820px;
      aspect-ratio:2.3/1;
      border-radius:999px;
      margin:auto;
      position:relative;
      background:
        radial-gradient(circle at 50% -40%,rgba(255,255,255,0.18),transparent 60%),
        radial-gradient(circle at 50% 130%,rgba(111,122,255,0.28),#050509 70%);
      box-shadow:0 0 26px rgba(111,122,255,0.6);
    }

    .poker-table-inner {
      position:absolute;
      inset:14%;
      border-radius:999px;
      background: radial-gradient(circle at 50% 0,rgba(255,255,255,0.06),transparent 65%),
                  radial-gradient(circle at 50% 130%,rgba(111,122,255,0.24),#050509 80%);
      border:1px solid rgba(255,255,255,0.15);
      box-shadow:inset 0 0 40px rgba(0,0,0,0.9);
    }

    .table-logo {
      position:absolute;
      top:50%; left:50%;
      transform:translate(-50%,-50%);
      text-align:center;
      font-size:14px;
      letter-spacing:0.26em;
      color:rgba(245,245,255,0.95);
      text-transform:uppercase;
      pointer-events:none;
    }
    .table-logo span {
      display:block;
      font-size:9px;
      margin-top:3px;
      letter-spacing:0.3em;
      color:rgba(192,196,255,0.85);
    }


    /* --- POT (скрыт при 0) --- */
    #pot {
      position:absolute;
      top:50%; left:50%;
      transform:translate(-50%,-50%) translateY(-35px);
      font-size:12px;
      color:rgba(230,230,255,0.9);
      text-align:center;
      display:none;
    }

    /* BORAD */
    #board {
      position:absolute;
      top:50%; left:50%;
      transform:translate(-50%, -50%) translateY(4px);
      display:flex;
      gap:6px;
    }

    /* SIDE POTS */
    #sidePots {
      position:absolute;
      top:50%; left:50%;
      transform:translate(-50%, -50%) translateY(40px);
      font-size:11px;
      color:rgba(200,203,255,0.9);
      text-align:center;
    }


    /* ---------------- SEATS (оставил как было) ---------------- */

    #players { position:absolute; inset:0; }

    .seat {
      position:absolute;
      height:34px;
      padding:4px 12px;
      border-radius:999px;
      background:rgba(5,5,15,0.96);
      border:1px solid rgba(255,255,255,0.14);
      color:var(--text-muted);
      display:flex;
      align-items:center;
      gap:8px;
      font-size:11px;
    }

    .seat-1 { top:6%; left:50%; transform:translate(-50%,0); }
    .seat-2 { top:33%; right:6%; transform:translate(0,-50%); }
    .seat-3 { bottom:33%; right:6%; transform:translate(0,50%); }
    .seat-4 { bottom:6%; left:50%; transform:translate(-50%,0); }
    .seat-5 { bottom:33%; left:6%; transform:translate(0,50%); }
    .seat-6 { top:33%; left:6%; transform:translate(0,-50%); }


    /* Dealer chip */
    .dealer-chip {
      width:18px; height:18px;
      border-radius:50%;
      background:rgba(5,5,15,0.95);
      border:1px solid rgba(255,255,255,0.8);
      box-shadow:0 0 12px rgba(111,122,255,0.7);
      position:absolute;
      font-size:10px;
      display:flex; align-items:center; justify-content:center;
      color:white;
    }
    .dealer-1 { top:13%; left:50%; transform:translate(-50%,-50%); }
    .dealer-2 { top:33%; right:14%; transform:translate(50%,-50%); }
    .dealer-3 { bottom:33%; right:14%; transform:translate(50%,50%); }
    .dealer-4 { bottom:13%; left:50%; transform:translate(-50%,50%); }
    .dealer-5 { bottom:33%; left:14%; transform:translate(-50%,50%); }
    .dealer-6 { top:33%; left:14%; transform:translate(-50%,-50%); }


    /* ---------------- HERO (не менял) ---------------- */

    .bottom-panel {
      border-radius: 18px;
      background: radial-gradient(circle at 0 0, #18182a, #050509 70%);
      border: 1px solid rgba(255,255,255,0.07);
      box-shadow: var(--shadow-soft);
      padding: 12px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .hero-row {
      display:grid;
      grid-template-columns: minmax(0,1.8fr) minmax(0,3fr) minmax(0,1fr);
      gap:12px;
      align-items:center;
    }

    .hero-info {
      display:flex; align-items:center; gap:10px;
    }
    .hero-avatar {
      width:40px; height:40px; border-radius:50%;
      background: radial-gradient(circle,rgba(111,122,255,0.25),#050509);
      border:1px solid rgba(255,255,255,0.15);
      display:flex; align-items:center; justify-content:center;
      font-weight:600; letter-spacing:0.1em;
    }
    .hero-meta { display:flex; flex-direction:column; gap:3px; font-size:12px; }
    .hero-stack { font-size:13px; font-weight:600; }

    #hand { display:flex; gap:6px; }

    .hero-card-slot {
      width:34px; height:46px;
      border-radius:8px;
      background: radial-gradient(circle,#fff,#e5e5f4);
      border:1px solid rgba(0,0,0,0.1);
      box-shadow:0 4px 10px rgba(0,0,0,0.6);
    }

    /* ACTION PANEL */

    .action-panel {
      display:flex;
      flex-direction:column;
      gap:10px;
      background:rgba(5,5,15,0.92);
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.1);
      padding:10px;
    }

    .bet-row {
      display:grid;
      grid-template-columns: minmax(0,2fr) minmax(0,1.4fr);
      gap:10px;
      align-items:center;
    }

    .bet-label-row {
      display:flex; justify-content:space-between;
      font-size:11px; color:var(--text-muted);
    }

    input.range {
      width:100%;
      height:4px;
      border-radius:4px;
      background:rgba(255,255,255,0.08);
      -webkit-appearance:none;
    }
    input.range::-webkit-slider-thumb {
      -webkit-appearance:none;
      width:14px; height:14px; border-radius:50%;
      background:#fff;
      border:2px solid var(--accent-strong);
      box-shadow:0 0 10px rgba(111,122,255,0.7);
      margin-top:-5px;
    }

    #betAmount {
      border-radius:999px;
      background:rgba(10,10,20,0.9);
      border:1px solid rgba(255,255,255,0.15);
      padding:5px 10px;
      font-size:12px; color:var(--text-main);
      width:100%;
    }

    .bet-presets { display:flex; gap:6px; flex-wrap:wrap; font-size:11px; }
    .preset-btn {
      padding:4px 7px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.16);
      background:rgba(10,10,20,0.9);
      color:#eee;
    }

    .actions-row {
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:8px;
    }
    .action-btn {
      border-radius:999px;
      padding:8px 10px;
      font-size:13px;
      font-weight:500;
      border:1px solid transparent;
      cursor:pointer;
    }

    .action-fold {
      background:rgba(255,65,111,0.2);
      border-color:rgba(255,65,111,0.7);
      color:#ffdce6;
    }

    .action-check {
      background:rgba(255,255,255,0.06);
      border-color:rgba(255,255,255,0.2);
      color:white;
    }

    .action-bet {
      background:rgba(111,122,255,0.3);
      border-color:rgba(111,122,255,0.9);
      color:#050509;
    }

    .action-allin {
      background:rgba(255,215,0,0.25);
      border-color:rgba(255,215,0,0.8);
      color:white;
    }

    #checkCallButton {
      padding:8px 16px;
      display:flex;
      align-items:center;
      justify-content:center;
    }


    /* ---------------- CHAT ---------------- */

    .side-panel {
      border-radius:20px;
      background: radial-gradient(circle,#171725,#050509 70%);
      border:1px solid rgba(255,255,255,0.07);
      padding:10px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .side-tabs { display:flex; gap:8px; }
    .side-tab-btn {
      flex:1;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.15);
      background:transparent;
      cursor:pointer;
      font-size:12px;
      color:var(--text-muted);
    }
    .side-tab-btn-active {
      background:rgba(10,10,20,0.95);
      border-color:rgba(255,255,255,0.2);
      color:white;
    }

    .side-body {
      flex:1;
      border-radius:14px;
      background:rgba(5,5,15,0.9);
      border:1px solid rgba(255,255,255,0.07);
      padding:10px;
      display:flex;
      flex-direction:column;
      gap:6px;
    }

    #chat {
      flex:1; overflow-y:auto;
      font-size:12px; color:var(--text-muted);
      display:flex; flex-direction:column; gap:4px;
    }

    .chat-input-row { display:flex; gap:6px; }

    .input {
      flex:1;
      border-radius:999px;
      padding:6px 10px;
      background:rgba(10,10,20,0.9);
      color:white;
      border:1px solid rgba(255,255,255,0.15);
      font-size:12px;
    }

    .chat-send {
      padding:6px 10px;
      border-radius:999px;
      background:rgba(111,122,255,0.25);
      border:1px solid rgba(255,255,255,0.2);
      color:white;
      font-size:12px;
      cursor:pointer;
    }

  </style>
</head>

<body>
<div class="page">

  <!-- ███████████████ HEADER ███████████████ -->
  <header class="topbar">

    <div class="topbar-row">

      <div class="topbar-left">
        <div class="logo-mark"></div>

        <div class="topbar-title-block">
          <div class="topbar-main">MIDNIGHT BLACK</div>
          <div class="topbar-sub" id="tableTitle">TABLE · NL 50–100</div>
        </div>
      </div>

      <!-- ПРАВЫЙ ВЕРХНИЙ УГОЛ -->
      <div class="topbar-table-meta">
        <div class="pill" id="tableName">Стол #MB-001</div>
        <div class="pill" id="tablePlayers">6 / 6 игроков</div>
      </div>

    </div>

    <!-- Нижняя строка -->
    <div class="topbar-actions">
      <button class="btn btn-leave" id="btnLeave">Покинуть стол</button>
      <button class="btn btn-ghost" id="btnSettings">Настройки</button>
    </div>

  </header>

  <!-- ███████████████ MAIN SECTION ███████████████ -->
  <main class="main">

    <!-- TABLE BLOCK -->
    <section class="table-wrap">

      <div class="table-top-info">
        <div class="table-top-left">
          <div class="dot-live"></div>
          <div id="tableInfo">Live · Hold'em · Blind 50 / 100</div>
        </div>
        <div class="table-top-right">
          <div class="mini-pill" id="minBuyin">Мин. бай-ин: 5 000</div>
          <div class="mini-pill" id="maxBuyin">Макс. бай-ин: 50 000</div>
        </div>
      </div>

      <div class="poker-table">

        <div class="poker-table-inner">

          <!-- NO POT UNTIL >0 -->
          <div id="pot">Банк: <span>0</span> MBC</div>

          <div class="table-logo">
            MIDNIGHT BLACK
            <span>POKER ROOM</span>
          </div>

          <div id="board"></div>

          <div id="sidePots"></div>

        </div>

        <!-- SEATS (как у тебя было) -->
        <div id="players">
          <div class="seat seat-1"><span>P1</span></div>
          <div class="seat seat-2"><span>P2</span></div>
          <div class="seat seat-3"><span>P3</span></div>
          <div class="seat seat-4"><span>P4</span></div>
          <div class="seat seat-5"><span>P5</span></div>
          <div class="seat seat-6"><span>P6</span></div>
        </div>

        <div id="dealerChip" class="dealer-chip dealer-1">D</div>

      </div>
    </section>


    <!-- ACTION BLOCK (оставлено как у тебя) -->
    <section class="bottom-panel">

      <div class="hero-row">

        <div class="hero-info">
          <div class="hero-avatar" id="heroAvatar">MB</div>

          <div class="hero-meta">
            <div id="heroName">Hero</div>
            <div class="hero-stack">Стек: <span id="heroStack">0</span> MBC</div>
          </div>

          <div id="hand">
            <div class="hero-card-slot"></div>
            <div class="hero-card-slot"></div>
          </div>
        </div>

        <div class="action-panel">

          <div class="bet-row">
            <div>
              <div class="bet-label-row">
                <span>Размер ставки</span>
                <span id="betPercentLabel">0%</span>
              </div>
              <input type="range" class="range" id="betRange" min="0" max="100" value="0">
            </div>

            <div>
              <input id="betAmount" type="number" min="0" step="1" value="0">
            </div>
          </div>

          <div class="bet-presets">
            <button class="preset-btn" data-bet-preset="33">⅓</button>
            <button class="preset-btn" data-bet-preset="50">½</button>
            <button class="preset-btn" data-bet-preset="75">¾</button>
            <button class="preset-btn" data-bet-preset="100">Пот</button>
            <button class="preset-btn" data-bet-preset="max">Макс</button>
          </div>

          <div class="actions-row">
            <button class="action-btn action-fold" id="foldButton">Fold</button>
            <button class="action-btn action-check" id="checkCallButton">Check / Call</button>
            <button class="action-btn action-bet" id="betRaiseButton">Bet / Raise</button>
            <button class="action-btn action-allin" id="allInButton">All-in</button>
          </div>

        </div>

        <div class="hero-meta" style="font-size:12px;">
          <div id="heroPosition">BTN</div>
          <div id="heroLastAction">Ваш ход</div>
        </div>

      </div>

    </section>


    <!-- CHAT -->
    <section class="side-panel">
      <div class="side-tabs">
        <button class="side-tab-btn side-tab-btn-active" id="tabChat">Чат</button>
        <button class="side-tab-btn" id="tabHistory">История</button>
      </div>

      <div class="side-body">
        <div id="chat"></div>

        <div class="chat-input-row">
          <input class="input" id="chatInput" placeholder="Сообщение..." />
          <button class="chat-send" id="chatSend">⮞</button>
        </div>
      </div>
    </section>

  </main>
</div>


<!-- Скрипт: скрывать банк, если =0 -->
<script>
(function () {
  const potEl = document.getElementById('pot');
  const val = potEl.querySelector('span');
  function check() {
    const n = parseFloat(val.textContent);
    potEl.style.display = (!n || n<=0) ? 'none' : 'block';
  }
  check();
  new MutationObserver(check).observe(val,{childList:true,characterData:true,subtree:true});
})();
</script>

<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script src="/index.js"></script>

</body>
</html>
