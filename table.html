<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>Midnight Black Poker – Table</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg-main: #050509;
      --bg-secondary: #0c0c14;
      --bg-elevated: #10101b;
      --accent: #6f7aff;
      --accent-strong: rgba(111, 122, 255, 0.85);
      --danger: #ff416f;
      --success: #35d49b;
      --text-main: #f5f5f5;
      --text-muted: #9a9aad;
      --border-soft: rgba(255, 255, 255, 0.08);
      --shadow-soft: 0 0 50px rgba(0, 0, 0, 0.9);
    }

    * { margin:0; padding:0; box-sizing:border-box; }

    html, body { height:100%; }

    body {
      font-family: system-ui, -apple-system, "SF Pro Text", "Segoe UI", sans-serif;
      background: radial-gradient(circle at top,#151528 0,#050509 55%,#000 100%);
      color: var(--text-main);
      overflow-x: hidden;
    }

    .page {
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    /* ---------- HEADER ---------- */

    .topbar {
      padding:10px 16px 12px;
      background:linear-gradient(to bottom,
        rgba(5,5,10,0.96),
        rgba(5,5,10,0.85),
        transparent
      );
      border-bottom:1px solid rgba(255,255,255,0.05);
      backdrop-filter:blur(14px);
      position:sticky;
      top:0;
      z-index:10;
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    .topbar-row {
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      min-width:0;
    }

    .topbar-left {
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }

    .logo-mark {
      width:26px;
      height:26px;
      border-radius:50%;
      background:conic-gradient(from 210deg,#000,#151528,#6f7aff,#000);
      box-shadow:0 0 12px rgba(111,122,255,0.7);
      position:relative;
      flex-shrink:0;
    }

    .logo-mark::after {
      content:"";
      position:absolute;
      inset:26%;
      border-radius:inherit;
      border:1px solid rgba(255,255,255,0.4);
      background:radial-gradient(circle,rgba(255,255,255,0.2),transparent);
    }

    .topbar-title-block {
      display:flex;
      flex-direction:column;
      gap:2px;
      min-width:0;
    }

    .topbar-main {
      font-size:13px;
      letter-spacing:0.18em;
      text-transform:uppercase;
      white-space:nowrap;
    }

    .topbar-sub {
      font-size:11px;
      letter-spacing:0.2em;
      text-transform:uppercase;
      color:var(--text-muted);
      white-space:nowrap;
    }

    .topbar-table-meta {
      display:flex;
      flex-direction:column;
      align-items:flex-end;
      gap:4px;
    }

    .pill {
      padding:4px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.12);
      background:rgba(10,10,20,0.85);
      font-size:11px;
      white-space:nowrap;
    }

    .topbar-actions {
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }

    .btn {
      border-radius:999px;
      padding:6px 14px;
      font-size:12px;
      border:1px solid transparent;
      cursor:pointer;
      background:transparent;
      color:var(--text-main);
      transition:0.15s;
      white-space:nowrap;
    }

    .btn-leave {
      border-color:rgba(255,65,111,0.55);
      background:radial-gradient(circle at 0 0,rgba(255,65,111,0.2),transparent);
      color:#ffe9f1;
      box-shadow:0 0 14px rgba(255,65,111,0.4);
    }

    .btn-ghost {
      border-color:rgba(255,255,255,0.18);
      color:var(--text-muted);
      background:radial-gradient(circle at 0 0,rgba(255,255,255,0.06),transparent);
    }

    .btn-ghost:hover {
      border-color:rgba(255,255,255,0.35);
      color:var(--text-main);
    }

    /* ---------- MAIN LAYOUT ---------- */

    .main {
      flex:1;
      display:flex;
      flex-direction:column;
      padding:10px;
      gap:10px;
      min-height:0;
    }

    .table-wrap {
      border-radius:24px;
      background:radial-gradient(circle at top,#18182b,#050509 65%);
      border:1px solid rgba(255,255,255,0.07);
      box-shadow:var(--shadow-soft);
      padding:12px;
      position:relative;
    }

    .table-top-info {
      display:flex;
      justify-content:space-between;
      font-size:12px;
      color:var(--text-muted);
      margin-bottom:4px;
      gap:8px;
    }

    .table-top-left {
      display:flex;
      align-items:center;
      gap:10px;
    }

    .dot-live {
      width:8px;
      height:8px;
      border-radius:50%;
      background:var(--success);
      box-shadow:0 0 10px rgba(53,212,155,0.9);
    }

    .table-top-right {
      display:flex;
      flex-direction:column;
      gap:2px;
      align-items:flex-end;
    }

    .mini-pill {
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.1);
      padding:1px 7px;
      font-size:11px;
      color:var(--text-muted);
      background:rgba(5,5,15,0.9);
    }

    .table-center {
      display:flex;
      align-items:center;
      justify-content:center;
    }

    /* ---------- TABLE ---------- */

    .poker-table {
      width:100%;
      max-width:820px;
      aspect-ratio:2.3/1;
      border-radius:999px;
      position:relative;
      background:
        radial-gradient(circle at 50% -40%,rgba(255,255,255,0.18),transparent 60%),
        radial-gradient(circle at 50% 130%,rgba(111,122,255,0.28),#050509 70%);
      box-shadow:0 0 26px rgba(111,122,255,0.6);
      margin:auto;
      overflow:hidden;
    }

    .poker-table-inner {
      position:absolute;
      inset:14%;
      border-radius:999px;
      background:
        radial-gradient(circle at 50% 0,rgba(255,255,255,0.06),transparent 65%),
        radial-gradient(circle at 50% 130%,rgba(111,122,255,0.24),#050509 80%);
      border:1px solid rgba(255,255,255,0.14);
      box-shadow:inset 0 0 40px rgba(0,0,0,0.9);
    }

    .table-logo {
      position:absolute;
      top:50%; left:50%;
      transform:translate(-50%,-50%);
      text-align:center;
      font-size:14px;
      letter-spacing:0.26em;
      color:rgba(245,245,255,0.95);
      text-transform:uppercase;
      pointer-events:none;
      white-space:nowrap;
    }

    .table-logo span {
      display:block;
      font-size:9px;
      margin-top:3px;
      letter-spacing:0.3em;
      color:rgba(192,196,255,0.85);
    }

    #pot {
      position:absolute;
      top:50%; left:50%;
      transform:translate(-50%,-50%) translateY(-30px);
      font-size:12px;
      color:rgba(230,230,255,0.9);
      text-align:center;
      display:none;
    }

    #pot span {
      font-weight:600;
      color:#fff;
    }

    #board {
      position:absolute;
      top:50%; left:50%;
      transform:translate(-50%,-50%) translateY(6px);
      display:flex;
      gap:6px;
    }

    #sidePots {
      position:absolute;
      top:50%; left:50%;
      transform:translate(-50%,-50%) translateY(40px);
      font-size:11px;
      color:rgba(200,203,255,0.9);
      text-align:center;
    }

    .card {
      width:28px;
      height:38px;
      border-radius:6px;
      background:radial-gradient(circle at 0 0,#ffffff,#e4e4f4);
      border:1px solid rgba(0,0,0,0.08);
      box-shadow:0 4px 10px rgba(0,0,0,0.6);
      position:relative;
      overflow:hidden;
    }

    .card::after {
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(135deg,rgba(0,0,0,0.1),transparent 60%);
      mix-blend-mode:multiply;
    }

    .card-rank {
      position:absolute;
      left:4px; top:3px;
      font-size:11px;
      font-weight:600;
    }

    .card-suit {
      position:absolute;
      right:4px; bottom:3px;
      font-size:9px;
    }

    .card.red { color:#d41245; }
    .card.black { color:#16162a; }

    /* ---------- SEATS ---------- */

    #players {
      position:absolute;
      inset:0;
      pointer-events:none;
    }

    .seat {
      position:absolute;
      height:32px;
      padding:4px 10px;
      border-radius:999px;
      background:rgba(5,5,15,0.96);
      border:1px solid rgba(255,255,255,0.14);
      display:flex;
      align-items:center;
      gap:6px;
      font-size:11px;
      color:var(--text-muted);
      pointer-events:auto;
    }

    .seat-avatar {
      width:18px; height:18px;
      border-radius:50%;
      background:radial-gradient(circle at 0 0,rgba(111,122,255,0.45),#050509);
      border:1px solid rgba(255,255,255,0.3);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:9px;
      font-weight:600;
      color:#f5f5ff;
      flex-shrink:0;
    }

    .seat-text {
      display:flex;
      flex-direction:column;
      gap:0;
    }

    .seat-name {
      max-width:60px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .seat-stack {
      font-weight:600;
      color:#fff;
    }

    /* ближе к периметру */
    .seat-1 { top:4%;  left:50%; transform:translate(-50%,0); }
    .seat-2 { top:24%; right:2%; transform:translate(0,-50%); }
    .seat-3 { bottom:24%; right:2%; transform:translate(0,50%); }
    .seat-4 { bottom:4%; left:50%; transform:translate(-50%,0); }
    .seat-5 { bottom:24%; left:2%; transform:translate(0,50%); }
    .seat-6 { top:24%; left:2%; transform:translate(0,-50%); }

    /* дилер РЯДОМ со стулом (сбоку), а не сверху него */
    .dealer-chip {
      width:18px; height:18px;
      border-radius:50%;
      background:rgba(5,5,15,0.95);
      border:1px solid rgba(255,255,255,0.8);
      box-shadow:0 0 12px rgba(111,122,255,0.7);
      position:absolute;
      font-size:10px;
      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
    }

    /* слева от seat-1 */
    .dealer-1 {
      top:4%;
      left:50%;
      transform:translate(-115%,-50%); /* чуть левее и по центру по вертикали */
    }

    /* слева от стульев на правой стороне (внутрь стола) */
    .dealer-2 { top:24%; right:9%; transform:translate(0,-50%); }
    .dealer-3 { bottom:24%; right:9%; transform:translate(0,50%); }

    /* слева от seat-4 (влево) */
    .dealer-4 {
      bottom:4%;
      left:50%;
      transform:translate(-115%,50%);
    }

    /* слева от стульев слева (ещё чуть левее, наружу) */
    .dealer-5 { bottom:24%; left:-3%; transform:translate(0,50%); }
    .dealer-6 { top:24%; left:-3%; transform:translate(0,-50%); }

    /* ---------- HERO / ACTIONS ---------- */

    .bottom-panel {
      border-radius:18px;
      background:radial-gradient(circle at 0 0,#18182a,#050509 70%);
      border:1px solid rgba(255,255,255,0.07);
      box-shadow:var(--shadow-soft);
      padding:10px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .hero-row {
      display:grid;
      grid-template-columns:minmax(0,2.2fr) minmax(0,3.2fr) minmax(0,1.5fr);
      gap:10px;
      align-items:center;
    }

    @media (max-width:900px) {
      .hero-row { grid-template-columns:minmax(0,1fr); }
    }

    .hero-info {
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }

    .hero-avatar {
      width:40px; height:40px;
      border-radius:50%;
      background:radial-gradient(circle,rgba(111,122,255,0.25),#050509);
      border:1px solid rgba(255,255,255,0.15);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:600;
      letter-spacing:0.12em;
    }

    .hero-meta {
      display:flex;
      flex-direction:column;
      gap:2px;
      font-size:12px;
    }

    .hero-stack {
      font-size:13px;
      font-weight:600;
    }

    #hand {
      display:flex;
      gap:6px;
      margin-left:auto;
    }

    .hero-card-slot {
      width:34px; height:46px;
      border-radius:8px;
      background:radial-gradient(circle,#ffffff,#e4e4f4);
      border:1px solid rgba(0,0,0,0.1);
      box-shadow:0 4px 10px rgba(0,0,0,0.6);
    }

    .action-panel {
      display:flex;
      flex-direction:column;
      gap:6px;
      background:rgba(5,5,15,0.92);
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.1);
      padding:8px 9px;
      min-width:0;
    }

    .bet-row {
      display:grid;
      grid-template-columns:minmax(0,2.7fr) minmax(0,1.3fr);
      gap:8px;
      align-items:center;
      min-width:0;
    }

    .bet-slider-wrap {
      display:flex;
      flex-direction:column;
      gap:4px;
      min-width:0;
    }

    .bet-label-row {
      display:flex;
      justify-content:space-between;
      font-size:11px;
      color:var(--text-muted);
      margin-bottom:6px; /* чуть выше от ползунка, чтобы шарик не залезал на "Р" */
    }

    input[type="range"].range {
      -webkit-appearance:none;
      appearance:none;
      width:100%;
      height:4px;
      border-radius:999px;
      background:rgba(255,255,255,0.08);
      outline:none;
    }

    input[type="range"].range::-webkit-slider-thumb {
      -webkit-appearance:none;
      width:14px; height:14px;
      border-radius:50%;
      background:#fff;
      border:2px solid var(--accent-strong);
      box-shadow:0 0 10px rgba(111,122,255,0.8);
      margin-top:-5px;
    }

    .bet-input-wrap {
      display:flex;
      align-items:center;
      gap:6px;
      min-width:0;
      justify-content:flex-end;
    }

    /* поле ставки фиксированной ширины, не рвёт экран */
    #betAmount {
      flex:0 0 80px;
      max-width:80px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,0.15);
      background:rgba(10,10,20,0.95);
      padding:4px 9px;
      font-size:12px;
      color:var(--text-main);
      text-align:right;
    }

    .bet-currency {
      font-size:11px;
      color:var(--text-muted);
      white-space:nowrap;
    }

    .bet-presets {
      display:flex;
      flex-wrap:wrap;
      gap:5px;
      font-size:11px;
    }

    .preset-btn {
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.16);
      background:rgba(10,10,24,0.9);
      color:#e2e2ff;
      padding:3px 8px;
      cursor:pointer;
    }

    .preset-btn-ghost {
      border-color:rgba(255,255,255,0.1);
      color:var(--text-muted);
    }

    .actions-row {
      display:grid;
      grid-template-columns:repeat(4,minmax(0,1fr));
      gap:6px;
      margin-top:4px;
    }

    .action-btn {
      border-radius:999px;
      padding:7px 10px;
      font-size:13px;
      font-weight:500;
      border:1px solid transparent;
      cursor:pointer;
      white-space:nowrap;
      transition:0.15s;
      position:relative;
      overflow:hidden;
      -webkit-tap-highlight-color: transparent;
    }

    .action-fold {
      background:radial-gradient(circle at 0 0,rgba(255,65,111,0.25),#2b0b16);
      border-color:rgba(255,65,111,0.7);
      color:#ffe5ef;
      box-shadow:0 0 16px rgba(255,65,111,0.55);
    }

    .action-check {
      background:radial-gradient(circle at 0 0,rgba(255,255,255,0.06),#10101a);
      border-color:rgba(255,255,255,0.2);
      color:#f5f5ff;
    }

    .action-bet {
      background:radial-gradient(circle at 0 0,rgba(111,122,255,0.35),#282a68);
      border-color:rgba(111,122,255,0.85);
      color:#050509;
      box-shadow:0 0 18px rgba(111,122,255,0.8);
    }

    .action-allin {
      background:radial-gradient(circle at 0 0,rgba(255,215,0,0.25),#4a3a05);
      border-color:rgba(255,215,0,0.8);
      color:#fff7d0;
      box-shadow:0 0 18px rgba(255,215,0,0.7);
    }

    /* яркий неон при нажатии: и через :active, и через класс is-pressed (чтобы на iOS точно сработало) */
    .action-btn:active,
    .action-btn.is-pressed {
      transform:scale(0.94);
      filter:brightness(1.35);
      transition:0.05s;
    }
    .action-fold:active,
    .action-fold.is-pressed {
      box-shadow:0 0 30px rgba(255,65,111,1),
                 inset 0 0 22px rgba(255,65,111,1);
    }
    .action-check:active,
    .action-check.is-pressed {
      box-shadow:0 0 26px rgba(255,255,255,0.9),
                 inset 0 0 20px rgba(255,255,255,1);
    }
    .action-bet:active,
    .action-bet.is-pressed {
      box-shadow:0 0 38px rgba(111,122,255,1),
                 inset 0 0 24px rgba(111,122,255,1);
    }
    .action-allin:active,
    .action-allin.is-pressed {
      box-shadow:0 0 40px rgba(255,215,0,1),
                 inset 0 0 24px rgba(255,215,0,1);
    }

    #checkCallButton {
      padding:8px 16px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
    }

    .hero-status {
      display:flex;
      flex-direction:column;
      gap:2px;
      font-size:11px;
      align-items:flex-end;
    }

    /* ---------- CHAT ---------- */

    .side-panel {
      border-radius:20px;
      background:radial-gradient(circle at top,#171725,#050509 70%);
      border:1px solid rgba(255,255,255,0.07);
      box-shadow:var(--shadow-soft);
      padding:10px;
      display:flex;
      flex-direction:column;
      gap:8px;
      min-height:230px;
    }

    .side-tabs {
      display:flex;
      gap:6px;
      font-size:12px;
    }

    .side-tab-btn {
      flex:1;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.15);
      padding:6px 10px;
      cursor:pointer;
      background:transparent;
      color:var(--text-muted);
    }

    .side-tab-btn-active {
      background:rgba(10,10,24,0.96);
      border-color:rgba(255,255,255,0.2);
      color:#f5f5ff;
    }

    .side-body {
      flex:1;
      border-radius:14px;
      background:rgba(5,5,15,0.9);
      border:1px solid rgba(255,255,255,0.07);
      padding:8px;
      display:flex;
      flex-direction:column;
      gap:6px;
      min-height:0;
    }

    #chat {
      flex:1;
      overflow-y:auto;
      font-size:11px;
      color:var(--text-muted);
      display:flex;
      flex-direction:column;
      gap:4px;
    }

    .chat-line-dealer { color:#f7e496; }
    .chat-line-system { color:#8fd4ff; }

    .chat-input-row {
      display:flex;
      gap:6px;
    }

    .input {
      flex:1;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.15);
      background:rgba(10,10,22,0.95);
      padding:6px 10px;
      font-size:12px;
      color:var(--text-main);
    }

    .chat-send {
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.2);
      background:radial-gradient(circle at 0 0,rgba(111,122,255,0.25),transparent);
      padding:6px 10px;
      font-size:12px;
      cursor:pointer;
      color:#f5f5ff;
    }

  </style>
</head>
<body>
<div class="page">

  <!-- HEADER -->
  <header class="topbar">
    <div class="topbar-row">
      <div class="topbar-left">
        <div class="logo-mark"></div>
        <div class="topbar-title-block">
          <div class="topbar-main">MIDNIGHT BLACK</div>
          <div class="topbar-sub" id="tableTitle">TABLE · NL 50–100</div>
        </div>
      </div>
      <div class="topbar-table-meta">
        <div class="pill" id="tableName">Стол #MB-001</div>
        <div class="pill" id="tablePlayers">6 / 6 игроков</div>
      </div>
    </div>

    <div class="topbar-actions">
      <button class="btn btn-leave" id="btnLeave">Покинуть стол</button>
      <button class="btn btn-ghost" id="btnSettings">Настройки</button>
    </div>
  </header>

  <!-- MAIN -->
  <main class="main">
    <!-- TABLE -->
    <section class="table-wrap">
      <div class="table-top-info">
        <div class="table-top-left">
          <div class="dot-live"></div>
          <div id="tableInfo">Live · Hold'em · Blind 50 / 100</div>
        </div>
        <div class="table-top-right">
          <div class="mini-pill" id="minBuyin">Мин. бай-ин: 5 000</div>
          <div class="mini-pill" id="maxBuyin">Макс. бай-ин: 50 000</div>
        </div>
      </div>

      <div class="table-center">
        <div class="poker-table" id="table">
          <div class="poker-table-inner">
            <div id="pot">Банк: <span>0</span> MBC</div>

            <div class="table-logo">
              MIDNIGHT BLACK
              <span>POKER ROOM</span>
            </div>

            <div id="board"></div>
            <div id="sidePots"></div>
          </div>

          <div id="players">
            <div class="seat seat-1" data-seat="1">
              <div class="seat-avatar">P1</div>
              <div class="seat-text">
                <span class="seat-name">Seat 1</span>
                <span class="seat-stack">0</span>
              </div>
            </div>
            <div class="seat seat-2" data-seat="2">
              <div class="seat-avatar">P2</div>
              <div class="seat-text">
                <span class="seat-name">Seat 2</span>
                <span class="seat-stack">0</span>
              </div>
            </div>
            <div class="seat seat-3" data-seat="3">
              <div class="seat-avatar">P3</div>
              <div class="seat-text">
                <span class="seat-name">Seat 3</span>
                <span class="seat-stack">0</span>
              </div>
            </div>
            <div class="seat seat-4" data-seat="4">
              <div class="seat-avatar">P4</div>
              <div class="seat-text">
                <span class="seat-name">Seat 4</span>
                <span class="seat-stack">0</span>
              </div>
            </div>
            <div class="seat seat-5" data-seat="5">
              <div class="seat-avatar">P5</div>
              <div class="seat-text">
                <span class="seat-name">Seat 5</span>
                <span class="seat-stack">0</span>
              </div>
            </div>
            <div class="seat seat-6" data-seat="6">
              <div class="seat-avatar">P6</div>
              <div class="seat-text">
                <span class="seat-name">Seat 6</span>
                <span class="seat-stack">0</span>
              </div>
            </div>
          </div>

          <div class="dealer-chip dealer-1" id="dealerChip">D</div>
        </div>
      </div>
    </section>

    <!-- HERO + ACTIONS -->
    <section class="bottom-panel">
      <div class="hero-row">
        <div class="hero-info">
          <div class="hero-avatar" id="heroAvatar">MB</div>
          <div class="hero-meta">
            <div id="heroName">Hero</div>
            <div class="hero-stack">
              Стек: <span id="heroStack">0</span> MBC
            </div>
          </div>
          <div id="hand">
            <div class="hero-card-slot" data-slot="1"></div>
            <div class="hero-card-slot" data-slot="2"></div>
          </div>
        </div>

        <div class="action-panel">
          <div class="bet-row">
            <div class="bet-slider-wrap">
              <div class="bet-label-row">
                <span>Размер ставки</span>
                <span id="betPercentLabel">0%</span>
              </div>
              <input type="range" class="range" id="betRange" min="0" max="100" value="0" />
            </div>
            <div class="bet-input-wrap">
              <input type="number" id="betAmount" min="0" step="1" value="0" />
              <div class="bet-currency">MBC</div>
            </div>
          </div>

          <div class="bet-presets">
            <button class="preset-btn preset-btn-ghost" data-bet-preset="33">⅓ банка</button>
            <button class="preset-btn preset-btn-ghost" data-bet-preset="50">½ банка</button>
            <button class="preset-btn preset-btn-ghost" data-bet-preset="75">¾ банка</button>
            <button class="preset-btn" data-bet-preset="100">Пот</button>
            <button class="preset-btn preset-btn-ghost" data-bet-preset="max">Макс</button>
          </div>

          <div class="actions-row" id="actions">
            <button class="action-btn action-fold" id="foldButton">Fold</button>
            <button class="action-btn action-check" id="checkCallButton">Check / Call</button>
            <button class="action-btn action-bet" id="betRaiseButton">Bet / Raise</button>
            <button class="action-btn action-allin" id="allInButton">All-in</button>
          </div>
        </div>

        <div class="hero-status">
          <div id="heroPosition">Позиция: BTN</div>
          <div id="heroLastAction">Ваш ход</div>
        </div>
      </div>
    </section>

    <!-- CHAT / HISTORY -->
    <section class="side-panel">
      <div class="side-tabs">
        <button class="side-tab-btn side-tab-btn-active" id="tabChat">Чат</button>
        <button class="side-tab-btn" id="tabHistory">История раздач</button>
      </div>

      <div class="side-body">
        <div id="chat"></div>
        <div class="chat-input-row">
          <input class="input" id="chatInput" placeholder="Сообщение в чат..." />
          <button class="chat-send" id="chatSend">⮞</button>
        </div>
      </div>
    </section>
  </main>
</div>

<!-- авто-скрытие надписи "Банк" при 0 -->
<script>
(function () {
  const potEl = document.getElementById('pot');
  if (!potEl) return;
  const span = potEl.querySelector('span');
  if (!span) return;

  function updatePotVisibility() {
    const raw = (span.textContent || "").replace(/\s+/g,"");
    const num = parseFloat(raw);
    potEl.style.display = (!raw || !isFinite(num) || num <= 0) ? "none" : "block";
  }

  updatePotVisibility();
  new MutationObserver(updatePotVisibility).observe(span,{
    childList:true,
    characterData:true,
    subtree:true
  });
})();
</script>

<!-- отдельный скрипт, чтобы на iOS нажатие кнопки точно подсвечивалось -->
<script>
(function () {
  const buttons = document.querySelectorAll('.action-btn');
  buttons.forEach(btn => {
    const press = () => btn.classList.add('is-pressed');
    const release = () => btn.classList.remove('is-pressed');

    btn.addEventListener('touchstart', press, {passive:true});
    btn.addEventListener('mousedown', press);

    ['touchend','touchcancel','mouseup','mouseleave'].forEach(ev => {
      btn.addEventListener(ev, release);
    });
  });
})();
</script>

<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script src="/index.js"></script>
</body>
</html>
